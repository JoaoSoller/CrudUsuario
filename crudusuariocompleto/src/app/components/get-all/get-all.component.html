<div class="get-all-container">
    <button class="btn blue" routerLink="/post-usuario">Novo</button>
    <div>
      <h2><label for="departamento">Departamento:</label></h2>
      <select [(ngModel)]="selectedDepartmentId" (change)="onDepartamentoChange()" id="departamento">
        <option value ="">Todos</option>
        <option *ngFor="let departamento of departamentos" [value]="departamento.id">{{departamento.nome}}</option>
      </select>  
    </div>

    <h1>Lista de Usuarios</h1>
    <table class="styled-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Description</th>
          <th>Departamento</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of usuarios">
          <td>{{ item.id }}</td>
          <td>{{ item.nome }}</td>
          <td>{{ item.email }}</td>
          <td>{{ item.departamento?.nome }}</td>
          <td>
            <button class="btn blue" routerLink="/usuario/{{item.id}}">Edit</button>
            <button class="btn red" (click)="deleteUsuario(item.id)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  